<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <div >
    <!--Export Data-->
    <div style="float: right;">
      <a href="/demo/rest/device/log/download"><Button>Export Data</Button> </a>
  </div>

      <button class="btn btn-success" style="margin-bottom: 20px;" (click)="showHideFilter()" >Filter</button>
   
    <div style="margin: 20px;" *ngIf="filter">
      <form action="">
        <div style="display: inline-block;" class =" col-12"> 
          <div class="form-group col-6" style="float: left;">
            <label>Name</label>
            <input type="text" [(ngModel)]="name" name="name" class="form-control"/>
          </div>  
          <div class="form-group col-6" style="float: left;">
            <label>DeviceId</label>
            <input type="text" [(ngModel)]="deviceId" name="deviceId" class="form-control"/>
          </div> 
       </div>
        <div style="display: inline-block;" class =" col-12">
          <div class="form-group col-6" style="float: left;">
            <label>From</label>
            <input type="date" [(ngModel)]="from" name="from" class="form-control"/>
          </div>
          <div class="form-group col-6" style="float: left;">
            <label>To</label>
            <input type="date"  [(ngModel)]="to" name="to" class="form-control"/>
          </div>         
        </div>
        <div style="display: flex;justify-content: center;"> 
          <button class="btn btn-primary" style="margin: 20px;" (click)="getPage()">Apply</button>
          <button type="reset" class="btn btn-primary" style="margin: 20px;">Clear</button>
        </div> 
       
      </form>
    </div>

    

    <div style="margin-top: 30px;">
      <table border="1" class="table table-bordered" style="text-align: center;">
        <thead class="table-bordered">
        <tr style="background: #3CB371; color: #ECF0F1;" class="d-flex" >
          <th class="col-md-1"><span class="titleHeader">userId</span></th>
          <th class="col-md-3" (click)="selectSort('name')" > 
              <span class="titleHeader">Name</span>
              <i class="fa fa-fw fa-sort"></i>                  
          </th>
          <th class="col-md-1" >Temperature</th>
          <th class="col-md-1" >CardType</th>
          <th class="col-md-2" (click)="selectSort('timestamp')">
            <span class="titleHeader">Date</span> 
            <i class="fa fa-fw fa-sort"></i> 
          </th>
          <th class="col-md-1" >
            <span class="titleHeader" >Time</span>             
          </th>
          <th class="col-md-1" (click)="selectSort('device_Id')">
            <span class="titleHeader">DeviceId</span>
            <i class="fa fa-fw fa-sort"></i>  </th>
          <th class="col-md-1"><span class="titleHeader">Location</span></th>
          <th class="col-md-1">&nbsp;</th>
        </tr>
        </thead>
        <tr *ngFor="let item of data | paginate: {  id: 'list',
                                                    itemsPerPage: pageSize,
                                                    currentPage: currentPage,
                                                    totalItems: totalItems }; let i = index"   [class.active]="i == currentPage"
                                                    class="d-flex">
          <td class="col-md-1">{{item.userId}}</td>
          <td class="col-md-3">{{item.name}}</td>
          <td class="col-md-1">{{item.temperature}}</td>
          <td class="col-md-1">{{item.cardType}}</td>
          <td class="col-md-2">{{item.date}}</td>
          <td class="col-md-1"> {{item.time}}</td>
          <td class="col-md-1">{{item.deviceId}}</td>
          <td class="col-md-1">{{item.location}}</td>
          <td class="col-md-1">       
            <a routerLink="/dashboard/chart-by-user" [queryParams]="{userId:item.userId,name:item.name}" class="btn btn-primary" >Detail</a>  
          </td>
        </tr>
      </table>
    </div>
    <div>        
        Page Size: 
          <select [(ngModel)]="selectedOption" ng-init="selectedOption = options[1].value">
            <option *ngFor="let o of options">
                {{o.name}}
            </option>
          </select>
          <button (click)="getPageSize()" class="btn-info">Select</button> 

      <pagination-controls style="float: right;" id="list" maxSize=7 directionLinks="true" responsive="true"
      (pageChange)="handlePageChange($event)" ></pagination-controls>
      <div> <span>Total: {{totalItems}}</span></div>
      </div>
      <div> 
      <router-outlet></router-outlet>

      </div>
</div>